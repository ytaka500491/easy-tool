<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>easytool - æ™‚è¨ˆ</title>
  <style>
    body { font-family: sans-serif; text-align: center; margin-top: 50px; }
    canvas { background: #f0f0f0; border-radius: 50%; }
    .section { margin: 30px 0; }
    input, button { margin: 5px; padding: 5px; }
  </style>
</head>
<body>

  <h2>easy-tool</h2>
  <p><a href="index.html">HOME</a>&gt;æ™‚è¨ˆ</p>
  <!-- ã‚¢ãƒŠãƒ­ã‚°æ™‚è¨ˆ -->
  <div class="section">
    <h2>ğŸ•°ï¸ ã‚¢ãƒŠãƒ­ã‚°æ™‚è¨ˆ</h2>
    <canvas id="analog" width="200" height="200"></canvas>
  </div>

  <!-- ãƒ‡ã‚¸ã‚¿ãƒ«æ™‚è¨ˆ -->
  <div class="section">
    <h2>âŒš ãƒ‡ã‚¸ã‚¿ãƒ«æ™‚è¨ˆ</h2>
    <div id="digital" style="font-size: 2em;"></div>
  </div>

  <!-- ã‚¢ãƒ©ãƒ¼ãƒ  -->
  <div class="section">
    <h2>ğŸ”” ã‚¢ãƒ©ãƒ¼ãƒ </h2>
    <input type="time" id="alarmTime">
    <button onclick="setAlarm()">ã‚»ãƒƒãƒˆ</button>
    <div id="alarmStatus"></div>
  </div>

  <!-- ã‚¹ãƒˆãƒƒãƒ—ã‚¦ã‚©ãƒƒãƒ -->
  <div class="section">
    <h2>â±ï¸ ã‚¹ãƒˆãƒƒãƒ—ã‚¦ã‚©ãƒƒãƒ</h2>
    <div id="stopwatch">00:00:00</div>
    <button onclick="startStopwatch()">ã‚¹ã‚¿ãƒ¼ãƒˆ</button>
    <button onclick="stopStopwatch()">ã‚¹ãƒˆãƒƒãƒ—</button>
    <button onclick="resetStopwatch()">ãƒªã‚»ãƒƒãƒˆ</button>
  </div>

  <!-- ã‚¿ã‚¤ãƒãƒ¼ -->
  <div class="section">
    <h2>â²ï¸ ã‚¿ã‚¤ãƒãƒ¼</h2>
    <input type="number" id="timerInput" placeholder="ç§’æ•°">
    <button onclick="startTimer()">ã‚¹ã‚¿ãƒ¼ãƒˆ</button>
    <div id="timerDisplay">00</div>
  </div>

  <script>
    // ã‚¢ãƒŠãƒ­ã‚°æ™‚è¨ˆ
    const canvas = document.getElementById("analog");
    const ctx = canvas.getContext("2d");
    function drawAnalogClock() {
      const now = new Date();
      const sec = now.getSeconds();
      const min = now.getMinutes();
      const hr = now.getHours();

      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.beginPath();
      ctx.arc(100, 100, 90, 0, 2 * Math.PI);
      ctx.stroke();

      // æ™‚é‡
      ctx.beginPath();
      ctx.moveTo(100, 100);
      ctx.lineTo(100 + 40 * Math.cos((hr % 12 + min / 60) * 30 * Math.PI / 180 - Math.PI / 2),
                 100 + 40 * Math.sin((hr % 12 + min / 60) * 30 * Math.PI / 180 - Math.PI / 2));
      ctx.stroke();

      // åˆ†é‡
      ctx.beginPath();
      ctx.moveTo(100, 100);
      ctx.lineTo(100 + 60 * Math.cos((min + sec / 60) * 6 * Math.PI / 180 - Math.PI / 2),
                 100 + 60 * Math.sin((min + sec / 60) * 6 * Math.PI / 180 - Math.PI / 2));
      ctx.stroke();

      // ç§’é‡
      ctx.beginPath();
      ctx.moveTo(100, 100);
      ctx.strokeStyle = "red";
      ctx.lineTo(100 + 80 * Math.cos(sec * 6 * Math.PI / 180 - Math.PI / 2),
                 100 + 80 * Math.sin(sec * 6 * Math.PI / 180 - Math.PI / 2));
      ctx.stroke();
      ctx.strokeStyle = "black";
    }
    setInterval(drawAnalogClock, 1000);

    // ãƒ‡ã‚¸ã‚¿ãƒ«æ™‚è¨ˆ
    function updateDigitalClock() {
      const now = new Date();
      document.getElementById("digital").textContent =
        now.toLocaleTimeString();
    }
    setInterval(updateDigitalClock, 1000);

    // ã‚¢ãƒ©ãƒ¼ãƒ 
    let alarmTime = null;
    function setAlarm() {
      alarmTime = document.getElementById("alarmTime").value;
      document.getElementById("alarmStatus").textContent = "ã‚¢ãƒ©ãƒ¼ãƒ ã‚»ãƒƒãƒˆ: " + alarmTime;
    }
    setInterval(() => {
      const now = new Date();
      const current = now.getHours().toString().padStart(2, "0") + ":" +
                      now.getMinutes().toString().padStart(2, "0");
      if (alarmTime === current) {
        alert("ğŸ”” ã‚¢ãƒ©ãƒ¼ãƒ ã§ã™ï¼");
        alarmTime = null;
        document.getElementById("alarmStatus").textContent = "";
      }
    }, 1000);

    // ã‚¹ãƒˆãƒƒãƒ—ã‚¦ã‚©ãƒƒãƒ
    let stopwatchTime = 0;
    let stopwatchInterval = null;
    function startStopwatch() {
      if (!stopwatchInterval) {
        stopwatchInterval = setInterval(() => {
          stopwatchTime++;
          const h = Math.floor(stopwatchTime / 3600);
          const m = Math.floor((stopwatchTime % 3600) / 60);
          const s = stopwatchTime % 60;
          document.getElementById("stopwatch").textContent =
            `${String(h).padStart(2, "0")}:${String(m).padStart(2, "0")}:${String(s).padStart(2, "0")}`;
        }, 1000);
      }
    }
    function stopStopwatch() {
      clearInterval(stopwatchInterval);
      stopwatchInterval = null;
    }
    function resetStopwatch() {
      stopStopwatch();
      stopwatchTime = 0;
      document.getElementById("stopwatch").textContent = "00:00:00";
    }

    // ã‚¿ã‚¤ãƒãƒ¼
    let timerInterval = null;
    function startTimer() {
      let time = parseInt(document.getElementById("timerInput").value);
      document.getElementById("timerDisplay").textContent = time;
      clearInterval(timerInterval);
      timerInterval = setInterval(() => {
        time--;
        document.getElementById("timerDisplay").textContent = time;
        if (time <= 0) {
          clearInterval(timerInterval);
          alert("â²ï¸ ã‚¿ã‚¤ãƒãƒ¼çµ‚äº†ï¼");
        }
      }, 1000);
    }
  </script>
</body>
</html>
